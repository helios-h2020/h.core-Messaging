!function(n,e){var i;"function"==typeof define&&define.amd?define(["exports"],e):"undefined"!=typeof exports?e(exports):(e(i={}),n.CancelablePromise=i)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(n){"use strict";function t(e,i){if(e)return function(n){return i.isCanceled?n:e(n)}}function l(i,r){var n={then:function(n,e){return l(i.then(t(n,r),t(e,r)),r)},catch:function(n){return l(i.catch(t(n,r)),r)},finally:function(e,n){return n&&(r.finallyList||(r.finallyList=[]),r.finallyList.push(e)),l(i.finally(function(){return n&&(r.finallyList=r.finallyList.filter(function(n){return n!==e})),e()}),r)},cancel:function(){r.isCanceled=!0;for(var n=0,e=[r.onCancelList,r.finallyList];n<e.length;n++){var i=e[n];if(i)for(;i.length;){var t=i.shift();"function"==typeof t&&t()}}},isCanceled:function(){return!0===r.isCanceled}};return{then:n.then.bind(void 0),catch:n.catch.bind(void 0),finally:n.finally.bind(void 0),cancel:n.cancel.bind(void 0),isCanceled:n.isCanceled.bind(void 0)}}function e(n){return l(n,{})}function i(i){var t=[];return l(new Promise(function(n,e){return i(n,e,function(n){t.push(n)})}),{onCancelList:t})}Object.defineProperty(n,"__esModule",{value:!0}),n.cancelable=e,n.CancelablePromise=i,n.default=void 0,i.all=function(n){return e(Promise.all(n))},i.allSettled=function(n){return e(Promise.allSettled(n))},i.race=function(n){return e(Promise.race(n))},i.resolve=function(n){return e(Promise.resolve(n))},i.reject=function(n){return e(Promise.reject(n))},n.default=i});