import { PeerId } from '../connection/PeerInfo';
declare type QueryFn = () => (Promise<number> | number | Promise<Record<string, unknown>> | Record<string, unknown>);
interface IndividualReport {
    [key: string]: number | Record<string, unknown> | {
        rate: number;
        total: number;
        last: number;
    };
}
interface Report {
    peerId: PeerId;
    startTime: number;
    currentTime: number;
    metrics: {
        [key: string]: IndividualReport;
    };
}
export declare class Metrics {
    private readonly name;
    private readonly queriedMetrics;
    private readonly recordedMetrics;
    private readonly fixedMetrics;
    constructor(name: string);
    addQueriedMetric(name: string, queryFn: QueryFn): Metrics;
    addRecordedMetric(name: string, windowSizeInSeconds?: number): Metrics;
    addFixedMetric(name: string, initialValue?: number): Metrics;
    record(name: string, value: number): Metrics;
    set(name: string, value: number): Metrics;
    report(): Promise<IndividualReport>;
    clearLast(): void;
    private verifyUniqueness;
}
export declare class MetricsContext {
    private readonly peerId;
    private readonly startTime;
    private readonly metrics;
    constructor(peerId: PeerId);
    create(name: string): Metrics;
    report(clearLast?: boolean): Promise<Report>;
}
export {};
