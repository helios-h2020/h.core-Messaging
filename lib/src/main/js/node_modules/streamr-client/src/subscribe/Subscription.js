"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Subscription = void 0;
const MessageStream_1 = require("./MessageStream");
class Subscription extends MessageStream_1.MessageStream {
    // @internal
    constructor(subSession, options) {
        super(subSession, options);
        /** prevent buffered data from yielding */
        // @internal
        this.isUnsubscribed = false;
        this.context = subSession;
        this.streamPartId = subSession.streamPartId;
        this.onMessage((msg) => {
            this.debug('<< %o', msg);
        });
        // this.debug('create', this.key, new Error('Subscription').stack)
    }
    // @internal
    waitForNeighbours(numNeighbours, timeout) {
        return this.context.waitForNeighbours(numNeighbours, timeout);
    }
    async unsubscribe() {
        this.end();
        await this.return();
    }
}
exports.Subscription = Subscription;
//# sourceMappingURL=Subscription.js.map