"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ContextError = exports.Context = exports.InjectContext = void 0;
const log_1 = require("./log");
exports.InjectContext = Symbol('Context');
class Context {
}
exports.Context = Context;
class ContextError extends Error {
    constructor(context, message = '', ...args) {
        var _a;
        // @ts-expect-error inspectOpts not in debug types
        super(`${context === null || context === void 0 ? void 0 : context.id}: ${(0, log_1.formatWithOptions)({ ...(((_a = context === null || context === void 0 ? void 0 : context.debug) === null || _a === void 0 ? void 0 : _a.inspectOpts) || {}), colors: false }, message, ...args)}`);
        this.context = context;
        if (Error.captureStackTrace) {
            Error.captureStackTrace(this, this.constructor);
        }
    }
}
exports.ContextError = ContextError;
//# sourceMappingURL=Context.js.map